import{_ as H}from"./nuxt-link.6057eb00.js";import{h as M,l as V,o as p,c as b,a as s,b as x,w as E,d as v,j as o,s as A,q as P,t as C,v as S,k as L,f as U,r as k,g as z,x as f,D as N,E as h,n as T,F as D,i as K,y,G as J,B as q,H as F,z as Q,I as W}from"./entry.0fe3983a.js";import{_ as X}from"./logo.5369b065.js";import{_ as G}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as Y}from"./Sprite.7df87a1a.js";const Z={class:"header"},ss={class:"header__container container"},es=U('<button class="header__menu-btn" aria-label="Menu"><svg class="header__menu-btn-icon header__menu-btn-icon--burger"><use xlink:href="#burger"></use></svg><svg class="header__menu-btn-icon header__menu-btn-icon--close"><use xlink:href="#close"></use></svg></button>',1),os=s("img",{class:"header__logo",src:X,alt:"alt"},null,-1),ts={class:"header__nav"},as={class:"header__nav-list"},ls={class:"header__nav-elem"},ns={class:"header__nav-elem"},_s={class:"header__nav-elem"},is={class:"header__nav-elem"},cs=s("svg",{class:"header__user-icon"},[s("use",{"xlink:href":"#user-icon"})],-1),ds={class:"header__user-nav-box"},rs={class:"header__user-name"},us=["onClick"],ms=s("a",{class:"header__lk-link",href:"#"},[s("span",{class:"header__lk-link-text"},"Личный кабинет"),s("svg",{class:"header__user-icon"},[s("use",{"xlink:href":"#user-icon"})])],-1),ps=[ms],hs={class:"header__user-nav-box"},vs={class:"header__user-name"},fs=["onClick"],bs=s("svg",{class:"header__user-icon"},[s("use",{"xlink:href":"#user-icon"})],-1),gs={__name:"Header",setup(w){let a=M();const e=()=>{a.dispatch("user/logOutOfTheSystem")},_=V(()=>a.state.user.data.firstName===""?"Имя":a.state.user.data.firstName),d=V(()=>a.state.user.data.lastName===""?"Фамилия":a.state.user.data.lastName);function t(){{let r=document.querySelector(".header");r.classList.add("header--menu-animate"),setTimeout(()=>{r.classList.contains("header--menu-show")?(r.classList.remove("header--menu-show"),document.body.style.overflow=""):(r.classList.add("header--menu-show"),document.body.style.overflow="hidden"),setTimeout(()=>{r.classList.remove("header--menu-animate")},300)})}}return(r,u)=>{const l=H;return p(),b("header",Z,[s("div",ss,[es,x(l,{class:"header__logo-link",to:"/"},{default:E(()=>[os]),_:1}),s("nav",ts,[s("ul",as,[s("li",ls,[x(l,{onClick:t,class:"header__nav-link",to:"/"},{default:E(()=>[v("Правила и призы")]),_:1})]),s("li",ns,[x(l,{onClick:t,class:"header__nav-link",to:"winners"},{default:E(()=>[v("Победители")]),_:1})]),s("li",_s,[x(l,{onClick:t,class:"header__nav-link",to:"where-to-buy"},{default:E(()=>[v("Где купить")]),_:1})]),s("li",is,[x(l,{onClick:u[0]||(u[0]=c=>o(A)("feedback")),class:"header__nav-link"},{default:E(()=>[v("Обратная связь")]),_:1})])]),o(a).state.user.isLogin?(p(),P(l,{key:0,to:"/lk",class:"header__user-nav header__user-nav--active header__user-nav--mobile"},{default:E(()=>[cs,s("div",ds,[s("p",rs,C(_.value)+" "+C(d.value),1),s("button",{class:"header__user-logout",onClick:S(e,["prevent","stop"])},"Выйти",8,us)])]),_:1})):L("",!0)]),o(a).state.user.isLogin?(p(),P(l,{key:1,to:"/lk",class:"header__user-nav header__user-nav--active"},{default:E(()=>[s("div",hs,[s("p",vs,C(_.value)+" "+C(d.value),1),s("button",{class:"header__user-logout",onClick:S(e,["prevent","stop"])},"Выйти",8,fs)]),bs]),_:1})):(p(),b("div",{key:0,class:"header__user-nav",onClick:u[1]||(u[1]=c=>o(A)("login"))},ps))])])}}},$s=gs,xs={class:"modal",id:"feedback",ref:"modal"},ks={class:"modal__content"},ys=s("svg",{class:"modal__success-icon"},[s("use",{"xlink:href":"#success"})],-1),ws=s("h2",{class:"modal__title"},"Ваше сообщение успешно отправлено!",-1),Cs=s("p",{class:"modal__subtitle"},"Наши менеджеры свяжутся с вами в ближайшее время",-1),Ts={class:"modal__content"},Es={class:"modal__content-box"},Us={class:"modal__title-box"},Ns=s("div",{class:"modal__wrap"},[s("h2",{class:"modal__title"},"Обратная связь"),s("p",{class:"modal__subtitle"},[v(" Есть вопросы? "),s("br",{class:"hide-desktop"}),v("Напишите нам, и мы ответим в ближайшее время ")])],-1),Ss=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),Ls=[Ss],Ms=["onSubmit"],Vs={class:"form-group"},Bs=s("p",{class:"form-group__label"},"Тема вопроса",-1),As={class:"dropdown",ref:"dropdown"},Ds={class:"dropdown__value-box"},js=["value"],Os=s("svg",{class:"dropdown__arrow"},[s("use",{"xlink:href":"#dropdown-arrow"})],-1),Rs={class:"dropdown__options-list"},Is=["data-value","onClick"],Ps=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Fs=s("label",{class:"form-group__label"},"E-mail для ответа",-1),Hs=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),zs=s("label",{class:"form-group__label"},"Имя Фамилия",-1),Js=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),qs=s("label",{class:"form-group__label"},"Номер телефона",-1),Gs=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Ks=s("label",{class:"form-group__label"},"Ваше сообщение",-1),Qs=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Поле не должно быть пустым.",-1),Ws=s("span",{class:"checkbox__text"},[v(" Даю согласие на обработку "),s("a",{class:"text-orange",href:"#"},"персональных данных")],-1),Xs=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Объязательное поле",-1),Ys=s("button",{class:"button button--orange button--orange-md modal__btn"},"Отправить",-1),Zs={__name:"ModalFeedback",setup(w){const a=q();let e=k(!1),_=k(null),d=k([]),t=k({selectTopic:{id:"",title:"",isEmpty:!1},email:{value:"",isEmpty:!1},name:{value:"",isEmpty:!1},phone:{value:"",isEmpty:!1},message:{value:"",isEmpty:!1},isConsent:{value:!1,isEmpty:!1}});z(()=>{l()});function r(){u()&&fetch(a.public.API_BASE_URL+"/feedback/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({topic_id:t.value.selectTopic.id,email:t.value.email.value,full_name:t.value.name.value,phone:t.value.phone.value,message:t.value.message.value})}).then(async n=>{(await n.json()).success&&(e.value=!0)})}function u(){return t.value.selectTopic.isEmpty=!t.value.selectTopic.id,t.value.email.isEmpty=!t.value.email.value,t.value.name.isEmpty=!t.value.name.value,t.value.phone.isEmpty=!t.value.phone.value,t.value.message.isEmpty=!t.value.message.value,t.value.isConsent.isEmpty=!t.value.isConsent.value,Object.values(t.value).reduce((n,i)=>n&&!i.isEmpty,!0)}function l(){fetch(a.public.API_BASE_URL+"/feedback-topics/").then(async n=>{let i=await n.json();d.value=i.topics})}function c(){h(),setTimeout(()=>{e.value=!1,t.value={selectTopic:{id:"",title:"",isEmpty:!1},email:{value:"",isEmpty:!1},name:{value:"",isEmpty:!1},phone:{value:"",isEmpty:!1},message:{value:"",isEmpty:!1},isConsent:{value:!1,isEmpty:!1}},_.value.value="+7"},1e3)}return(n,i)=>(p(),b("div",xs,[s("div",{class:T(["modal__body",{"modal--feedback":!o(e),"modal--success":o(e)}])},[f(s("div",ks,[ys,ws,Cs,s("button",{class:"button button--orange button--orange-md modal__btn",onClick:c},"Отлично!")],512),[[N,o(e)]]),f(s("div",Ts,[s("div",Es,[s("div",Us,[Ns,s("button",{class:"modal__close",onClick:i[0]||(i[0]=(...m)=>o(h)&&o(h)(...m))},Ls)]),s("form",{onSubmit:S(r,["prevent"])},[s("div",{class:T(["modal__wrap",{"form-group--error":o(t).selectTopic.isEmpty}])},[s("div",Vs,[Bs,s("div",As,[s("div",Ds,[s("input",{class:"dropdown__value",type:"text",placeholder:"Выберите тему",disabled:"",value:o(t).selectTopic.title},null,8,js),Os]),s("ul",Rs,[(p(!0),b(D,null,K(o(d),m=>(p(),b("li",{key:m.id,class:"dropdown__option","data-value":m.title,onClick:g=>o(t).selectTopic=m},C(m.title),9,Is))),128))])],512),Ps]),s("div",{class:T(["form-group",{"form-group--error":o(t).email.isEmpty}])},[Fs,f(s("input",{class:"form-group__input",type:"email",name:"email",placeholder:"Введите email","onUpdate:modelValue":i[1]||(i[1]=m=>o(t).email.value=m)},null,512),[[y,o(t).email.value]]),Hs],2),s("div",{class:T(["form-group",{"form-group--error":o(t).name.isEmpty}])},[zs,f(s("input",{class:"form-group__input",type:"text",name:"name",placeholder:"Введите имя и фамилию","onUpdate:modelValue":i[2]||(i[2]=m=>o(t).name.value=m)},null,512),[[y,o(t).name.value]]),Js],2),s("div",{class:T(["form-group",{"form-group--error":o(t).phone.isEmpty}])},[qs,s("input",{ref_key:"telTarget",ref:_,class:"form-group__input",type:"tel",name:"phone",value:"+7",onInput:i[3]||(i[3]=m=>{o(t).phone.value=m.target.value})},null,544),Gs],2),s("div",{class:T(["form-group",{"form-group--error":o(t).message.isEmpty}])},[Ks,f(s("textarea",{class:"form-group__input form-group__input--textarea",name:"message","onUpdate:modelValue":i[4]||(i[4]=m=>o(t).message.value=m)},null,512),[[y,o(t).message.value]]),Qs],2)],2),s("label",{class:T(["checkbox modal__checkbox form-group",{"form-group--error":o(t).isConsent.isEmpty}])},[f(s("input",{class:"checkbox__input",type:"checkbox","onUpdate:modelValue":i[5]||(i[5]=m=>o(t).isConsent.value=m)},null,512),[[J,o(t).isConsent.value]]),Ws,Xs],2),Ys],40,Ms)])],512),[[N,!o(e)]])],2)],512))}},se=Zs,j=""+globalThis.__publicAssetsURL("images/modal-img1@1x.webp"),O=""+globalThis.__publicAssetsURL("images/modal-img1@2x.webp"),R=""+globalThis.__publicAssetsURL("images/modal-img1@1x.jpg"),I=""+globalThis.__publicAssetsURL("images/modal-img1@2x.jpg"),ee=j+", "+O+" 2x",oe=I+" 2x",te=j+", "+O+" 2x",ae=I+" 2x",le=j+", "+O+" 2x",ne=I+" 2x",_e={class:"modal modal--login",id:"login"},ie={class:"modal__body"},ce={class:"modal__content modal__content--image-left"},de=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:ee,type:"image/webp"}),s("img",{class:"modal__img",src:R,srcset:oe,alt:""})])],-1),re={class:"modal__content-box"},ue={class:"modal__title-box"},me=s("h2",{class:"modal__title"},"Вход в личный кабинет",-1),pe=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),he=[pe],ve={class:"modal__wrap"},fe={class:"form-group"},be=s("label",{class:"form-group__label form-group__label--center"},"Введите свой номер телефона",-1),ge={class:"checkbox modal__checkbox"},$e=s("span",{class:"checkbox__text"},[v(" Даю согласие на обработку "),s("a",{class:"text-orange",href:"#"},"персональных данных")],-1),xe=["disabled"],ke={class:"modal__content modal__content--image-left"},ye=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:te,type:"image/webp"}),s("img",{class:"modal__img",src:R,srcset:ae,alt:""})])],-1),we={class:"modal__content-box"},Ce=U('<div class="modal__title-box"><h2 class="modal__title">Вход в личный кабинет</h2><button class="modal__close js-modal-close"><svg class="modal__close-icon"><use xlink:href="#close"></use></svg></button></div>',1),Te={class:"modal__wrap"},Ee={class:"form-group"},Ue=s("label",{class:"form-group__label form-group__label--small form-group__label--center"},"Введите код из SMS, который мы отправили 5 секунд назад",-1),Ne=["disabled"],Se=s("svg",{class:"modal__button-back-icon"},[s("use",{"xlink:href":"#arrow-back"})],-1),Le={class:"modal__content modal__content--image-left"},Me=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:le,type:"image/webp"}),s("img",{class:"modal__img",src:R,srcset:ne,alt:""})])],-1),Ve={class:"modal__content-box"},Be={class:"modal__title-box"},Ae=s("h2",{class:"modal__title show-desktop"},"Вход в личный кабинет",-1),De=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),je=[De],Oe=s("div",{class:"modal__success-box"},[s("svg",{class:"modal__success-icon"},[s("use",{"xlink:href":"#success"})]),s("p",{class:"modal__success-text"},"Ваш номер телефона подтверждён!")],-1),Re={__name:"ModalLogin",setup(w){const a=M();let e=k(""),_=k(""),d=k(!0);function t({target:c}){e.value=c.value}function r(){a.dispatch("user/sendPhoneNumber",e.value)}function u(){a.dispatch("user/checkCode",{phone:e.value,code:_.value})}async function l(){h(),await a.dispatch("user/loginInToSystem")}return(c,n)=>(p(),b("div",null,[s("div",_e,[s("div",ie,[f(s("div",ce,[de,s("div",re,[s("div",ue,[me,s("button",{class:"modal__close",onClick:n[0]||(n[0]=(...i)=>o(h)&&o(h)(...i))},he)]),s("div",ve,[s("div",fe,[be,s("input",{class:"form-group__input",type:"tel",name:"phone",value:"+7",onInput:t},null,32)]),s("label",ge,[f(s("input",{class:"checkbox__input",type:"checkbox","onUpdate:modelValue":n[1]||(n[1]=i=>F(d)?d.value=i:d=i)},null,512),[[J,o(d)]]),$e])]),s("button",{class:"button button--orange button--orange-md modal__btn",disabled:!(o(e).length===16&&o(d)),onClick:r},"Далее",8,xe)])],512),[[N,o(a).state.user.login.step===1]]),f(s("div",ke,[ye,s("div",we,[Ce,s("div",Te,[s("div",Ee,[Ue,f(s("input",{class:"form-group__input",type:"text",name:"code",placeholder:"Код","onUpdate:modelValue":n[2]||(n[2]=i=>F(_)?_.value=i:_=i)},null,512),[[y,o(_)]])]),s("p",{class:"modal__hint"},[v(" Если код не пришёл, запросите "),s("a",{class:"modal__hint-link",href:"#",onClick:r},"новый код")])]),s("button",{class:"button button--orange button--orange-md modal__btn",disabled:!o(_),onClick:u},"Подтвердить",8,Ne),s("button",{class:"modal__button-back",onClick:n[3]||(n[3]=i=>o(a).commit("user/setLoginStep",1))},[Se,v("Изменить телефон ")])])],512),[[N,o(a).state.user.login.step===2]]),f(s("div",Le,[Me,s("div",Ve,[s("div",Be,[Ae,s("button",{class:"modal__close",onClick:n[4]||(n[4]=(...i)=>o(h)&&o(h)(...i))},je)]),Oe,s("button",{class:"button button--orange button--orange-md modal__btn",onClick:l},"Войти ")])],512),[[N,o(a).state.user.login.step===3]])])])]))}},Ie=Re,Pe={class:"modal__form-panel"},Fe={class:"form-group"},He=s("label",{class:"form-group__label"},"Телефон",-1),ze={class:"form-group__row"},Je={class:"form-group"},qe=s("label",{class:"form-group__label form-group__label--small"},"Введите код из SMS, который мы отправили 5 секунд назад",-1),Ge={class:"form-group__row"},Ke={__name:"PhonePanel",emits:["getToken"],setup(w,{emit:a}){const e=M(),_=k("79187024219"),d=k("");function t({target:l}){_.value=l.value}function r(){e.dispatch("user/fetchPhone",_.value)}async function u(){let c=await(await e.dispatch("user/fetchUserCode",{phone:_.value,code:d.value})).json();a("getToken",c.token)}return(l,c)=>(p(),b("div",Pe,[s("div",Fe,[He,s("div",ze,[s("input",{class:"form-group__input",type:"tel",name:"phone",value:"+7",onInput:t},null,32),s("button",{class:"button button--white form-group__confirm-btn",onClick:r,type:"button"},"Подтвердить")])]),s("div",Je,[qe,s("div",Ge,[f(s("input",{class:"form-group__input",type:"text",name:"code",placeholder:"Код","onUpdate:modelValue":c[0]||(c[0]=n=>d.value=n)},null,512),[[y,d.value]]),s("button",{onClick:u,type:"button",class:"button button--white form-group__confirm-btn"}," Отправить")])]),s("p",{class:"modal__hint"},[v(" Если код не пришёл, запросите "),s("a",{class:"modal__hint-link",href:"#",onClick:r},"новый код")])]))}},Qe=Ke,We=""+globalThis.__publicAssetsURL("images/modal-img2@1x.webp"),Xe=""+globalThis.__publicAssetsURL("images/modal-img2@2x.webp"),Ye=""+globalThis.__publicAssetsURL("images/modal-img2@1x.jpg"),Ze=""+globalThis.__publicAssetsURL("images/modal-img2@2x.jpg"),so=We+", "+Xe+" 2x",eo=Ze+" 2x",oo={key:0,class:"modal__body"},to={class:"modal__content modal__content--image-left"},ao=s("div",{class:"modal__img-box"},[s("picture",null,[s("source",{srcset:so,type:"image/webp"}),s("img",{class:"modal__img",src:Ye,srcset:eo,alt:""})])],-1),lo={class:"modal__content-box"},no={class:"modal__title-box"},_o=s("div",{class:"modal__wrap"},[s("h2",{class:"modal__title"},"Зарегистрировать код"),s("p",{class:"modal__subtitle"},[v("Ищите код в продукции со знаком"),s("br"),v("«Вкус путешествия с «Крафт»")])],-1),io=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),co=[io],ro={class:"modal__wrap"},uo=s("label",{class:"form-group__label form-group__label--center"},"Код под крышкой",-1),mo=s("span",{class:"form-group__error-text","data-v-inspector":"components/ModalUser.vue:20:97"},"Неверный код.",-1),po=s("p",{class:"modal__hint"},[v("Если у вас есть проблемы с регистрацией кодов,"),s("br"),v("пожалуйста, "),s("a",{class:"text-orange",href:"#"},"напишите нам.")],-1),ho={key:1,class:"modal__body"},vo={class:"modal__content"},fo=["onSubmit"],bo={class:"modal__title-box"},go=U('<div class="modal__wrap"><h2 class="modal__title">Зарегистрировать код</h2><p class="modal__subtitle">Ищите код в продукции со знаком «Вкус путешествия с «Крафт»</p><p class="modal__subtitle"> Если ранее вы принимали участие в акции, то сначала <a class="text-orange" href="#">авторизируйтесь на сайте</a></p></div>',1),$o=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),xo=[$o],ko={class:"modal__wrap"},yo={class:"form-group"},wo=s("label",{class:"form-group__label"},"Имя",-1),Co={class:"form-group"},To=s("label",{class:"form-group__label"},"Фамилия",-1),Eo=U('<div class="form-group"><p class="form-group__label">Город</p><div class="dropdown"><div class="dropdown__value-box"><input class="dropdown__value" type="text" placeholder="Выберите свой город" disabled><svg class="dropdown__arrow"><use xlink:href="#dropdown-arrow"></use></svg></div><ul class="dropdown__options-list"><li class="dropdown__option" data-value="Оренбург">Оренбург</li><li class="dropdown__option" data-value="Москва">Москва</li><li class="dropdown__option" data-value="Санкт-Петербург">Санкт-Петербург</li><li class="dropdown__option" data-value="Казань">Казань</li><li class="dropdown__option" data-value="Новосибирск">Новосибирск</li></ul></div></div>',1),Uo={class:"modal__form-panel"},No={class:"form-group"},So=s("label",{class:"form-group__label"},"Email",-1),Lo=s("p",{class:"modal__hint modal__hint--yellow"},"E-mail ещё не подтверждён.",-1),Mo=s("p",{class:"modal__hint"},[v(" Для подтверждения e-mail после обновления данных перейдите по ссылке из письма и получите "),s("span",{class:"text-white"},"+50 баллов.")],-1),Vo={class:"modal__form-panel modal__form-panel--orange"},Bo={class:"form-group"},Ao=s("label",{class:"form-group__label"},"Код под крышкой",-1),Do=s("p",{class:"modal__hint"},[v(" Если вам не приходят коды по смс или есть другие проблемы с регистрацией кодов под крышкой, пожалуйста, "),s("a",{class:"text-orange",href:"#"},"напишите нам"),v(". ")],-1),jo=s("label",{class:"checkbox modal__checkbox"},[s("input",{class:"checkbox__input",type:"checkbox"}),s("span",{class:"checkbox__text"},[v(" Даю согласие на обработку "),s("a",{class:"text-orange",href:"#"},"персональных данных")])],-1),Oo=["disabled"],Ro={__name:"ModalCode",setup(w){const a=q();let e=M();const _=k(""),d=k(!1),t=k(""),r=k(""),u=k(""),l=k("");function c(m){t.value=m}function n(){let m,g;e.state.user.isLogin?(m=localStorage.getItem("userToken"),g={firstName:e.state.user.data.firstName,lastName:e.state.user.data.lastName,email:e.state.user.data.email,content:_.value}):(m=t.value,g={firstName:r.value,lastName:u.value,email:l.value,content:_.value}),fetch(a.public.API_BASE_URL+"/code/?token="+m,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(g)}).then(async B=>{let $=await B.json();$.success?(d.value=!1,e.commit("modal/setStickerData",$.userCode.sticker),i()):d.value=!0})}function i(){h(),A("sticker")}return(m,g)=>{const B=Qe;return p(),b("div",{class:T(["modal",{"modal--code":o(e).state.user.isLogin,"modal--register":!o(e).state.user.isLogin}]),id:"code"},[o(e).state.user.isLogin?(p(),b("div",oo,[s("div",to,[ao,s("div",lo,[s("div",no,[_o,s("button",{class:"modal__close",onClick:g[0]||(g[0]=(...$)=>o(h)&&o(h)(...$))},co)]),s("div",ro,[s("div",{class:T(["form-group",{"form-group--error":d.value}])},[uo,f(s("input",{"onUpdate:modelValue":g[1]||(g[1]=$=>_.value=$),class:"form-group__input",type:"text",name:"code",placeholder:"Введите код"},null,512),[[y,_.value]]),mo],2),po]),s("button",{class:"button button--orange button--orange-md modal__btn",onClick:n}," Отправить ")])])])):(p(),b("div",ho,[s("div",vo,[s("form",{onSubmit:S(n,["prevent"]),class:"modal__content-box"},[s("div",bo,[go,s("button",{class:"modal__close js-modal-close",onClick:g[2]||(g[2]=(...$)=>o(h)&&o(h)(...$))},xo)]),s("div",ko,[s("div",yo,[wo,f(s("input",{class:"form-group__input",type:"text",name:"first-name",placeholder:"Введите имя","onUpdate:modelValue":g[3]||(g[3]=$=>r.value=$)},null,512),[[y,r.value]])]),s("div",Co,[To,f(s("input",{class:"form-group__input",type:"text",name:"first-name",placeholder:"Введите фамилию","onUpdate:modelValue":g[4]||(g[4]=$=>u.value=$)},null,512),[[y,u.value]])]),Eo,x(B,{onGetToken:c}),s("div",Uo,[s("div",No,[So,f(s("input",{class:"form-group__input",type:"email",name:"email",placeholder:"Введите email","onUpdate:modelValue":g[5]||(g[5]=$=>l.value=$)},null,512),[[y,l.value]])]),Lo,Mo]),s("div",Vo,[s("div",Bo,[Ao,f(s("input",{class:"form-group__input",type:"text",name:"code",placeholder:"Введите код","onUpdate:modelValue":g[6]||(g[6]=$=>_.value=$)},null,512),[[y,_.value]])]),Do])]),jo,s("button",{class:"button button--orange button--orange-md modal__btn",disabled:!t.value||!!_.value}," Отправить ",8,Oo)],40,fo)])]))],2)}}},Io=Ro,Po={class:"modal modal--user",id:"user"},Fo={class:"modal__body"},Ho={class:"modal__content"},zo={class:"modal__content-box"},Jo={class:"modal__title-box"},qo=s("div",{class:"modal__wrap"},[s("h2",{class:"modal__title"},"Мои данные"),s("p",{class:"modal__subtitle"},"Пожалуйста, введите свои реальные данные, иначе могут быть проблемы при получении призов.")],-1),Go=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),Ko=[Go],Qo=["onSubmit"],Wo={class:"modal__wrap"},Xo={class:"form-group"},Yo=s("label",{class:"form-group__label"},"Имя",-1),Zo=s("span",{class:"form-group__error-text"},"Текст ошибки",-1),st={class:"form-group"},et=s("label",{class:"form-group__label"},"Фамилия",-1),ot={class:"form-group"},tt=s("p",{class:"form-group__label"},"Пол",-1),at={class:"form-group__option-row"},lt={class:"option"},nt=["checked"],_t=s("p",{class:"option__text"},[v("Муж "),s("svg",{class:"option__icon"},[s("use",{"xlink:href":"#male"})])],-1),it={class:"option"},ct=["checked"],dt=s("p",{class:"option__text"},[v("Жен "),s("svg",{class:"option__icon"},[s("use",{"xlink:href":"#female"})])],-1),rt=U('<div class="form-group"><p class="form-group__label">Город</p><div class="dropdown"><div class="dropdown__value-box"><input class="dropdown__value" type="text" placeholder="Выберите свой город" disabled><svg class="dropdown__arrow"><use xlink:href="#dropdown-arrow"></use></svg></div><ul class="dropdown__options-list"><li class="dropdown__option" data-value="Оренбург">Оренбург</li><li class="dropdown__option" data-value="Москва">Москва</li><li class="dropdown__option" data-value="Санкт-Петербург">Санкт-Петербург</li><li class="dropdown__option" data-value="Казань">Казань</li><li class="dropdown__option" data-value="Новосибирск">Новосибирск</li></ul></div></div>',1),ut={class:"form-group mb24"},mt=s("label",{class:"form-group__label"},"Дата рождения",-1),pt={class:"modal__form-panel"},ht={class:"form-group"},vt=s("label",{class:"form-group__label"},"Email",-1),ft=s("p",{class:"modal__hint modal__hint--yellow"},"E-mail ещё не подтверждён.",-1),bt=s("p",{class:"modal__hint"},[v(" Для подтверждения e-mail после обновления данных перейдите по ссылке из письма и получите "),s("span",{class:"text-white"},"+50 баллов.")],-1),gt={__name:"ModalUser",setup(w){const a=M(),e=k({firstName:"",lastName:"",sex:"",dateOfBirth:"",email:"",gotEmailBonus:!1});z(()=>{a.commit("modal/setDataFunc",d)}),V(()=>{if(a.state.user.data.phone){let l=a.state.user.data.phone.split("");return`+${l[0]} ${l[1]}${l[2]}${l[3]} ${l[4]}${l[5]}${l[6]} ${l[7]}${l[8]} ${l[9]}${l[10]}`}else return"-"});const _=V(()=>e.value.dateOfBirth.replaceAll(".","-"));function d(){e.value.firstName=a.state.user.data.firstName,e.value.lastName=a.state.user.data.lastName,e.value.sex=a.state.user.data.sex,e.value.dateOfBirth=a.state.user.data.dateOfBirth,e.value.email=a.state.user.data.email,e.value.gotEmailBonus=a.state.user.data.gotEmailBonus}async function t(){r()&&u(),await a.dispatch("user/updateUserData",{firstName:e.value.firstName,lastName:e.value.lastName,sex:e.value.sex,dateOfBirth:_.value,email:e.value.email})}function r(){return console.log(e.value.email),console.log(a.state.user.data.email),e.value.email!==a.state.user.data.email}function u(){a.dispatch("user/fetchVerificateEmail",e.value.email)}return(l,c)=>(p(),b("div",Po,[s("div",Fo,[s("div",Ho,[s("div",zo,[s("div",Jo,[qo,s("button",{class:"modal__close",onClick:c[0]||(c[0]=(...n)=>o(h)&&o(h)(...n))},Ko)]),s("form",{onSubmit:S(t,["prevent"])},[s("div",Wo,[s("div",Xo,[Yo,f(s("input",{class:"form-group__input",type:"text",name:"first-name",placeholder:"Введите имя","onUpdate:modelValue":c[1]||(c[1]=n=>e.value.firstName=n)},null,512),[[y,e.value.firstName]]),Zo]),s("div",st,[et,f(s("input",{class:"form-group__input",type:"text",name:"first-name",placeholder:"Введите фамилию","onUpdate:modelValue":c[2]||(c[2]=n=>e.value.lastName=n)},null,512),[[y,e.value.lastName]])]),s("div",ot,[tt,s("div",at,[s("label",lt,[s("input",{class:"option__input",type:"radio",name:"gender",checked:o(a).state.user.data.sex==="man",onChange:c[3]||(c[3]=()=>{e.value.sex="man"})},null,40,nt),_t]),s("label",it,[s("input",{class:"option__input",type:"radio",name:"gender",checked:o(a).state.user.data.sex==="woman",onChange:c[4]||(c[4]=()=>{e.value.sex="woman"})},null,40,ct),dt])])]),rt,s("div",ut,[mt,f(s("input",{class:"form-group__input form-group__input--date",type:"text",name:"first-name","onUpdate:modelValue":c[5]||(c[5]=n=>e.value.dateOfBirth=n)},null,512),[[y,e.value.dateOfBirth,void 0,{lazy:!0}]])]),s("div",pt,[s("div",ht,[vt,f(s("input",{class:"form-group__input",type:"email",name:"email",placeholder:"Введите email","onUpdate:modelValue":c[6]||(c[6]=n=>e.value.email=n)},null,512),[[y,e.value.email]])]),e.value.gotEmailBonus?L("",!0):(p(),b(D,{key:0},[ft,bt],64))])]),s("button",{class:"button button--orange button--orange-md modal__btn",onClick:c[7]||(c[7]=(...n)=>o(h)&&o(h)(...n))},"Обновить")],40,Qo)])])])]))}},$t=gt,xt=""+globalThis.__publicAssetsURL("images/sticker5@1x.webp"),kt=""+globalThis.__publicAssetsURL("images/sticker5@2x.webp"),yt=""+globalThis.__publicAssetsURL("images/sticker5@1x.jpg"),wt=xt+", "+kt+" 2x",Ct={class:"modal modal--sticker",id:"sticker"},Tt={class:"modal__body"},Et={class:"modal__content"},Ut={class:"modal__title-box"},Nt={class:"modal__sticker-box"},St={class:"sticker sticker--no-hover modal__sticker"},Lt=s("source",{srcset:wt,type:"image/webp"},null,-1),Mt=["src"],Vt={class:"sticker__text"},Bt={class:"modal__wrap"},At={key:0,class:"modal__title"},Dt=s("p",{class:"modal__subtitle"},"Стикер",-1),jt={class:"modal__title"},Ot={key:2,class:"modal__info-box"},Rt=s("svg",{class:"modal__info-box-icon"},[s("use",{"xlink:href":"#info"})],-1),It=s("svg",{class:"modal__close-icon"},[s("use",{"xlink:href":"#close"})],-1),Pt=[It],Ft=["innerHTML"],Ht={__name:"ModalStiker",setup(w){return(a,e)=>{var _,d,t,r,u,l,c,n;return p(),b("div",null,[s("div",Ct,[s("div",Tt,[s("div",Et,[s("div",Ut,[s("div",Nt,[s("figure",St,[s("picture",null,[Lt,s("img",{class:"sticker__img",src:yt,alt:""},null,8,Mt)]),s("figcaption",null,[s("p",Vt,C((_=a.$store.state.modal.stikerData)==null?void 0:_.name),1)])]),s("div",Bt,[((d=a.$store.state.modal.stikerData)==null?void 0:d.id)>12?(p(),b("h2",At," Поздравляем! Ваш мгновенный приз – "+C((t=a.$store.state.modal.stikerData)==null?void 0:t.name),1)):(p(),b(D,{key:1},[Dt,s("h2",jt,"«"+C((r=a.$store.state.modal.stikerData)==null?void 0:r.name)+"»",1)],64)),(u=a.$store.state.modal.stikerData)!=null&&u.extraText?(p(),b("div",Ot,[Rt,s("p",null,C((l=a.$store.state.modal.stikerData)==null?void 0:l.extraText),1)])):L("",!0)])]),s("button",{class:"modal__close",onClick:e[0]||(e[0]=(...i)=>o(h)&&o(h)(...i))},Pt)]),(c=a.$store.state.modal.stikerData)!=null&&c.content?(p(),b("div",{key:0,class:"modal__text-block",innerHTML:(n=a.$store.state.modal.stikerData)==null?void 0:n.content},null,8,Ft)):L("",!0),s("button",{class:"button button--orange button--orange-md modal__btn",onClick:e[1]||(e[1]=(...i)=>o(h)&&o(h)(...i))},"Отлично!")])])])])}}},zt=Ht,Jt={class:"modal modal--success",id:"emailSuccess"},qt={class:"modal__body"},Gt={class:"modal__content"},Kt=s("svg",{class:"modal__success-icon"},[s("use",{"xlink:href":"#success"})],-1),Qt={class:"modal__title"},Wt={key:0,class:"modal__subtitle"},Xt={__name:"ModalEmailSuccess",setup(w){return(a,e)=>(p(),b("div",Jt,[s("div",qt,[s("div",Gt,[Kt,s("h2",Qt,"E-mail "+C(a.$store.state.user.data.email)+" успешно подтверждён",1),a.$store.state.user.data.gotEmailBonus?L("",!0):(p(),b("p",Wt,"Начислено дополнительные 50 баллов")),s("button",{class:"button button--orange button--orange-md modal__btn js-modal-close",onClick:e[0]||(e[0]=(..._)=>o(h)&&o(h)(..._))},"Отлично!")])])]))}},Yt=Xt,Zt={},sa={class:"footer"},ea={class:"footer__container container"},oa=U('<div class="footer__text-box"><p class="footer__text"> Общий срок проведения Акции с 20 июля по 12 ноября 2023 года, включая период выдачи призов победителям. <br class="show-desktop">Регистрация кодов осуществляется на promo.orenbeer.ru </p><p class="footer__text">Период покупки и регистрации кодов (далее «период регистрации кодов»): 20.07.2023 - 12.10.2023 года включительно.</p><p class="footer__text">*Будет предоставлен сертификат на приобретение приза. Побрости в Полных правилах акции.</p><p class="footer__text">Призы могут отличаться по внешнему виду от их изображения на сайте и рекламных материалах.</p></div>',1),ta=s("svg",{class:"button__icon"},[s("use",{"xlink:href":"#button-arrow"})],-1);function aa(w,a){const e=H,_=se,d=Ie,t=Io,r=$t,u=zt,l=Yt;return p(),b("footer",sa,[s("div",ea,[oa,x(e,{class:"button button--gray footer__button",to:"agreement"},{default:E(()=>[v("Полные правила акции "),ta]),_:1})]),x(_),x(d),x(t),x(r),x(u),x(l)])}const la=G(Zt,[["render",aa]]),na={mounted(){this.isOldUser()||Q("/login"),localStorage.getItem("userToken")&&this.login()},methods:{isOldUser(){return localStorage.getItem("isOldUser")},async login(){await this.$store.dispatch("user/loginInToSystem")}}};function _a(w,a,e,_,d,t){const r=$s,u=la,l=Y;return p(),b("div",null,[x(r),W(w.$slots,"default"),x(u),x(l)])}const ma=G(na,[["render",_a]]);export{ma as default};
