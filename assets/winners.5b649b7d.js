import{r,g as k,c as s,a as e,b as h,w as f,T,C as B,B as C,o as n,F as _,i as N,t as a,d as y,k as l,j as v}from"./entry.f5195c75.js";const W={class:"main"},A={class:"section-winners"},D={class:"container"},L=e("h1",{class:"section-winners__title"},"Победители",-1),E={class:"section-winners__row-box"},V={class:"section-winners__time section-winners__time--desktop"},j={class:"section-winners__text"},F={class:"section-winners__time section-winners__time--mobile"},I={class:"section-winners__text"},P={class:"section-winners__text"},R={class:"section-winners__text"},S={class:"section-winners__button-box"},z={__name:"winners",setup(M){let o=r(8),w=r([]),u=r(!1);const p=C();k(async()=>{await m(),await b(),u.value=!(o.value<d.value)});let d=r(0);async function b(){await fetch(p.public.API_BASE_URL+"/lottery-winners/?page=1").then(async i=>{let c=await i.json();d.value=c.lotteryWinners.length})}async function m(){await fetch(p.public.API_BASE_URL+`/lottery-winners/?page=1&per_page=${o.value}`).then(async i=>{let c=await i.json();w.value=c.lotteryWinners})}async function g(){o.value+=8,await m(),u.value=!(o.value<d.value)}return(i,c)=>(n(),s("main",W,[e("section",A,[e("div",D,[L,e("div",E,[h(T,{name:"winners-list",tag:"ul"},{default:f(()=>[(n(!0),s(_,null,N(v(w),(t,x)=>(n(),s("div",{class:"section-winners__row",key:x},[e("time",V,a(t.lotteryDrawDate),1),e("p",j,[e("time",F,a(t.lotteryDrawDate),1),e("span",null,a(t.userFirstName),1)]),e("p",I,a(t.userPhone),1),e("p",P,[t.lotteryType==="instant"?(n(),s(_,{key:0},[y(" Мгновенный приз ")],64)):l("",!0),t.lotteryType==="basic"?(n(),s(_,{key:1},[y(" Обычная лотерея ")],64)):l("",!0),t.lotteryType==="collection"?(n(),s(_,{key:2},[y(" Коллекция стикеров ")],64)):l("",!0)]),e("p",R,a(t.prizeName),1)]))),128))]),_:1})]),e("div",S,[h(B,{name:"winners-list"},{default:f(()=>[v(u)?l("",!0):(n(),s("button",{key:0,onClick:g,class:"button button--orange button--orange-xs section-winners__button"}," Показать еще "))]),_:1})])])])]))}};export{z as default};
